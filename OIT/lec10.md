### **Конспект лекции по Основам информационных технологий**

**Тема урока 10: Южный мост: периферийные шины (SATA, USB, PCI) и контроллеры.**

**Цель лекции:** Понять роль и функции Южного моста в архитектуре компьютера, изучить ключевые периферийные шины и контроллеры, которые он объединяет, и разобраться в их основных характеристиках.

---

#### **1. Введение: Место Южного моста в архитектуре чипсета**

Если **Северный мост** (или интегрированный в CPU контроллер) отвечает за высокоскоростные компоненты (процессор, память, видеокарта), то **Южный мост (South Bridge)**, также известный как **Контроллер-концентратор ввода-вывода (I/O Controller Hub - ICH)**, является "менеджером периферии".

**Его ключевая задача** — централизованное управление всеми медленными и периферийными устройствами, освобождая Северный мост для высокоприоритетных задач.

**Связь с Северным мостом:** Южный мост соединяется с Северным мостом через **внутреннюю высокоскоростную шину**. Исторически это была шина **DMI (Direct Media Interface)** у Intel или **UMI (Unified Media Interface)** у AMD. Пропускная способность этой связи критична, так как через нее проходит весь трафик между периферией и ядром системы.

**Современный контекст:** В современных системах-на-кристалле (SoC) и продвинутых чипсетах многие функции Южного моста также интегрируются в процессор или входят в состав единого Platform Controller Hub (PCH). Однако логическая модель управления периферией остается неизменной.

---

#### **2. Ключевые шины и контроллеры, управляемые Южным мостом**

Южный мост не просто предоставляет интерфейсы, он содержит в себе их **контроллеры** — специализированные микропроцессоры, которые управляют обменом данными по соответствующей шине, разгружая центральный процессор.

##### **2.1. Шина SATA (Serial ATA)**

**Назначение:** Подключение **накопителей** — жестких дисков (HDD), твердотельных накопителей (SSD) и оптических приводов (DVD/CD).

**Особенности:**
*   **Последовательная:** Как и PCIe, использует последовательную передачу данных, что позволяет достигать высоких скоростей при меньшем количестве проводов.
*   **Точка-точка:** Каждое устройство подключается своим кабелем непосредственно к порту на материнской плате.

**Основные версии и пропускная способность:**
*   **SATA Revision 1.0:** 1.5 Гбит/с → ~150 МБ/с.
*   **SATA Revision 2.0:** 3.0 Гбит/с → ~300 МБ/с.
*   **SATA Revision 3.0 (SATA 6G):** 6.0 Гбит/с → ~600 МБ/с.

**Важно:** Указанная скорость в Гбит/с — это **скорость линии кодирования**. Из-за использования кодирования 8b/10b (каждые 10 бит передают 8 бит полезных данных) эффективная скорость составляет примерно 80% от заявленной (6 Гбит/с * 0.8 / 8 = 600 МБ/с).

**Режимы работы:**
*   **AHCI (Advanced Host Controller Interface):** Стандартный режим, поддерживающий такие функции, как "горячая" замена и Native Command Queuing (NCQ) для повышения производительности HDD.
*   **NVMe (Non-Volatile Memory Express):** Важно понимать, что **NVMe НЕ использует шину SATA**. Это протокол, разработанный специально для SSD и работающий напрямую через шину **PCI Express**, что позволяет обойти ограничения SATA и достичь скоростей в несколько ГБ/с.

##### **2.2. Шина USB (Universal Serial Bus)**

**Назначение:** Подключение практически всей внешней периферии: клавиатуры, мыши, принтеры, внешние накопители, камеры и т.д.

**Ключевые особенности:**
*   **Универсальность:** "Подключи и работай" (Plug-and-Play).
*   **Горячее подключение:** Устройства можно подключать и отключать без перезагрузки ПК.
*   **Поддержка питания:** Шина обеспечивает питание подключенных устройств (до 100Вт в USB Power Delivery).

**Основные версии и пропускная способность:**
*   **USB 1.1:**
    *   Low-Speed: 1.5 Мбит/с
    *   Full-Speed: 12 Мбит/с
*   **USB 2.0:** 480 Мбит/с → ~40-50 МБ/с на практике.
*   **USB 3.2 Gen 1 (ранее USB 3.0):** 5 Гбит/с → ~500 МБ/с.
*   **USB 3.2 Gen 2 (ранее USB 3.1):** 10 Гбит/с → ~1.2 ГБ/с.
*   **USB 3.2 Gen 2x2:** 20 Гбит/с → ~2.5 ГБ/с.
*   **USB4:** До 40 Гбит/с (использует технологию Thunderbolt 3).

**Архитектура:** Шина USB имеет **древовидную топологию**. Для увеличения количества портов используются **USB-хабы** (концентраторы).

##### **2.3. Шина PCI (Peripheral Component Interconnect)**

**Назначение:** Исторически основная шина для подключения внутренних плат расширения: сетевых карт, звуковых карт, ТВ-тюнеров и т.д.

**Особенности:**
*   **Параллельная шина:** Все устройства на одной шине используют общие линии данных и адреса.
*   **Разделяемая среда:** Это создавало проблему с арбитражем (управление доступом к шине) и ограничивало тактовую частоту.
*   **Устаревание:** В современных системах полностью вытеснена шиной **PCI Express**.

**Почему PCI Express лучше?** PCIe, будучи последовательной и имея топологию "точка-точка", лишена этих недостатков: нет конфликтов за шину, и каждое устройство имеет гарантированную полосу пропускания.

##### **2.4. Другие важные контроллеры внутри Южного моста**

*   **Контроллер прерываний (APIC):** Управляет запросами на прерывание (IRQ) от периферийных устройств к процессору.
*   **DMA-контроллер (Direct Memory Access):** Позволяет устройствам (например, сетевым картам или накопителям) напрямую обмениваться данными с оперативной памятью, **не нагружая центральный процессор**.
*   **Часы реального времени (RTC):** Микрочип, отвечающий за отсчет времени и даты, даже когда компьютер выключен (питается от батарейки на материнской плате).
*   **BIOS/UEFI:** Микросхема, хранящая firmware материнской платы, часто физически расположена рядом с Южным мостом и подключена к нему.
*   **Шина LPC (Low Pin Count):** Низкоскоростная шина для подключения устаревших, но критически важных компонентов: микросхемы BIOS/UEFI, контроллера клавиатуры и мыши (i8042), TPM-модуля.
*   **Шина SPI:** Более современная высокоскоростная последовательная шина, часто используемая для подключения флеш-памяти BIOS/UEFI.
*   **Звуковой контроллер (HD Audio):** Встроенный кодек, обеспечивающий звук через разъемы на материнской плате.
*   **Сетевой контроллер (LAN):** Встроенный гигабитный Ethernet-контроллер.
*   **SMBus/I²C:** Простые последовательные шины для управления и мониторинга компонентов на материнской плате (например, чтение данных с датчиков температуры).

---

#### **3. Итоги и ключевые выводы**

1.  **Южный мост** — это "коммутационный узел" всей медленной периферии, освобождающий CPU и Северный мост от этих задач.
2.  Он содержит в себе **специализированные контроллеры** (SATA, USB, Ethernet, Audio и др.), которые управляют обменом данными с периферией.
3.  **Ключевые шины под его управлением:**
    *   **SATA:** для накопителей. Эволюционирует до NVMe через PCIe.
    *   **USB:** универсальная шина для внешней периферии. Постоянно увеличивает скорость и мощность.
    *   **PCI (устарела):** предшественница PCIe для плат расширения.
4.  Южный мост также управляет критически важными системными функциями: **часы реального времени (RTC), контроллеры прерываний (APIC) и DMA**.
5.  **Связь с Северным мостом/процессором** через шину DMI/UMI является потенциальным "узким местом", так как через нее проходит весь трафик от всей периферии к ядру системы. Пропускная способность современных версий DMI (например, DMI 4.0 x4 = ~8 ГБ/с) призвана нивелировать эту проблему.

---
**Рекомендуемая литература для самостоятельного изучения:**
1.  Спецификации SATA-IO (Serial ATA International Organization).
2.  Документация USB-IF (USB Implementers Forum).
3.  Техническая документация на чипсеты от Intel и AMD.